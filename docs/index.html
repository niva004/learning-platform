<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TradeMasterPro - Naucz sie tradingu od ekspertow</title>
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üìà</text></svg>">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        :root {
            --background: #0d1117;
            --background-secondary: #161b22;
            --foreground: #e6edf3;
            --card-bg: #161b22;
            --card-border: #30363d;
            --accent-green: #00d26a;
            --accent-green-dark: #00a854;
            --accent-red: #ff4757;
            --accent-gold: #ffd700;
            --text-muted: #8b949e;
            --text-secondary: #c9d1d9;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: var(--background);
            color: var(--foreground);
            line-height: 1.6;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }

        /* Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: var(--background);
        }
        ::-webkit-scrollbar-thumb {
            background: var(--card-border);
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: var(--text-muted);
        }

        /* Anti-screenshot protection */
        @media print {
            body * { display: none !important; }
            body::after {
                content: "Drukowanie jest zablokowane dla ochrony tresci.";
                display: block;
                font-size: 24px;
                text-align: center;
                padding: 50px;
                color: white;
            }
        }

        /* Navigation */
        .navbar {
            background: rgba(13, 17, 23, 0.9);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid var(--card-border);
            padding: 0 2rem;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
            height: 64px;
        }

        .navbar-content {
            max-width: 1280px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            height: 100%;
        }

        .logo {
            font-size: 1.25rem;
            font-weight: bold;
            color: white;
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .logo-icon {
            width: 32px;
            height: 32px;
            background: linear-gradient(135deg, var(--accent-green) 0%, var(--accent-green-dark) 100%);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: black;
        }

        .logo span {
            color: var(--accent-green);
        }

        .nav-links {
            display: flex;
            gap: 0.5rem;
            align-items: center;
        }

        .nav-links a, .nav-links button {
            padding: 0.5rem 0.75rem;
            text-decoration: none;
            color: var(--text-secondary);
            border-radius: 6px;
            transition: all 0.2s;
            border: none;
            background: none;
            font-size: 0.875rem;
            font-weight: 500;
            cursor: pointer;
        }

        .nav-links a:hover, .nav-links button:hover {
            color: white;
        }

        /* Buttons */
        .btn {
            padding: 0.625rem 1.25rem;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.875rem;
            font-weight: 600;
            transition: all 0.3s;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--accent-green) 0%, var(--accent-green-dark) 100%);
            color: black;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(0, 210, 106, 0.3);
        }

        .btn-secondary {
            background: transparent;
            border: 2px solid var(--accent-green);
            color: var(--accent-green);
        }

        .btn-secondary:hover {
            background: var(--accent-green);
            color: black;
        }

        .btn-outline {
            background: transparent;
            border: 1px solid var(--card-border);
            color: var(--text-secondary);
        }

        .btn-outline:hover {
            border-color: var(--accent-green);
            color: var(--accent-green);
        }

        .btn-danger {
            background: var(--accent-red);
            color: white;
        }

        .btn-lg {
            padding: 1rem 2rem;
            font-size: 1rem;
            border-radius: 12px;
        }

        /* Hero Section */
        .hero {
            padding: 8rem 2rem 5rem;
            position: relative;
            overflow: hidden;
            background:
                radial-gradient(ellipse at 20% 50%, rgba(0, 210, 106, 0.1) 0%, transparent 50%),
                radial-gradient(ellipse at 80% 50%, rgba(0, 168, 84, 0.08) 0%, transparent 50%),
                linear-gradient(180deg, #0d1117 0%, #161b22 100%);
        }

        .hero::before {
            content: '';
            position: absolute;
            inset: 0;
            background-image:
                linear-gradient(rgba(48, 54, 61, 0.3) 1px, transparent 1px),
                linear-gradient(90deg, rgba(48, 54, 61, 0.3) 1px, transparent 1px);
            background-size: 40px 40px;
        }

        .hero-content {
            max-width: 1280px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 4rem;
            align-items: center;
            position: relative;
            z-index: 1;
        }

        .hero-badge {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            border-radius: 50px;
            background: rgba(0, 210, 106, 0.1);
            border: 1px solid rgba(0, 210, 106, 0.3);
            color: var(--accent-green);
            font-size: 0.875rem;
            font-weight: 500;
            margin-bottom: 1.5rem;
        }

        .hero-badge::before {
            content: '';
            width: 8px;
            height: 8px;
            background: var(--accent-green);
            border-radius: 50%;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        .hero h1 {
            font-size: 3.5rem;
            font-weight: 800;
            line-height: 1.1;
            margin-bottom: 1.5rem;
        }

        .hero h1 .gradient-text {
            background: linear-gradient(135deg, var(--accent-green) 0%, var(--accent-gold) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .hero p {
            font-size: 1.125rem;
            color: var(--text-muted);
            margin-bottom: 2rem;
            max-width: 500px;
        }

        .hero-buttons {
            display: flex;
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .hero-features {
            display: flex;
            gap: 1.5rem;
            color: var(--text-muted);
            font-size: 0.875rem;
        }

        .hero-features span {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .hero-features svg {
            color: var(--accent-green);
        }

        /* Screenshot Container */
        .screenshot-container {
            position: relative;
        }

        .screenshot-glow {
            position: absolute;
            inset: -4px;
            background: linear-gradient(135deg, rgba(0, 210, 106, 0.2) 0%, rgba(255, 215, 0, 0.2) 100%);
            border-radius: 16px;
            filter: blur(20px);
        }

        .screenshot-window {
            position: relative;
            background: var(--card-bg);
            border: 1px solid var(--card-border);
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.5);
        }

        .screenshot-header {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.75rem 1rem;
            background: var(--background);
            border-bottom: 1px solid var(--card-border);
        }

        .screenshot-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
        }

        .screenshot-dot.red { background: var(--accent-red); }
        .screenshot-dot.yellow { background: var(--accent-gold); }
        .screenshot-dot.green { background: var(--accent-green); }

        .screenshot-title {
            margin-left: 1rem;
            font-size: 0.75rem;
            color: var(--text-muted);
        }

        .screenshot-body {
            aspect-ratio: 16/9;
            background: linear-gradient(135deg, #1a1f2e 0%, #0d1117 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
        }

        .chart-placeholder {
            width: 100%;
            height: 100%;
            position: relative;
        }

        .chart-line {
            position: absolute;
            bottom: 30%;
            left: 0;
            right: 0;
            height: 2px;
            background: linear-gradient(90deg,
                var(--accent-green) 0%,
                var(--accent-green) 30%,
                var(--accent-red) 45%,
                var(--accent-green) 60%,
                var(--accent-green) 100%);
            clip-path: polygon(0% 50%, 10% 30%, 20% 60%, 30% 20%, 40% 45%, 50% 70%, 60% 40%, 70% 55%, 80% 25%, 90% 50%, 100% 35%);
            height: 40%;
            opacity: 0.8;
        }

        .chart-candles {
            position: absolute;
            bottom: 20%;
            left: 10%;
            right: 10%;
            height: 50%;
            display: flex;
            align-items: flex-end;
            justify-content: space-around;
        }

        .candle {
            width: 8px;
            background: var(--accent-green);
            border-radius: 2px;
            animation: candleGrow 3s ease-in-out infinite;
        }

        .candle.red { background: var(--accent-red); }

        .candle:nth-child(1) { height: 40%; animation-delay: 0s; }
        .candle:nth-child(2) { height: 60%; animation-delay: 0.2s; }
        .candle:nth-child(3) { height: 35%; animation-delay: 0.4s; }
        .candle:nth-child(4) { height: 70%; animation-delay: 0.6s; }
        .candle:nth-child(5) { height: 45%; animation-delay: 0.8s; }
        .candle:nth-child(6) { height: 55%; animation-delay: 1s; }
        .candle:nth-child(7) { height: 65%; animation-delay: 1.2s; }
        .candle:nth-child(8) { height: 50%; animation-delay: 1.4s; }

        @keyframes candleGrow {
            0%, 100% { transform: scaleY(1); }
            50% { transform: scaleY(0.7); }
        }

        .profit-float {
            position: absolute;
            bottom: -1rem;
            left: -1rem;
            background: var(--card-bg);
            border: 1px solid var(--accent-green);
            border-radius: 12px;
            padding: 0.75rem 1rem;
            box-shadow: 0 0 20px rgba(0, 210, 106, 0.2);
        }

        .profit-float-label {
            font-size: 0.75rem;
            color: var(--text-muted);
        }

        .profit-float-value {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--accent-green);
        }

        /* Stats Section */
        .stats-section {
            padding: 4rem 2rem;
            background: rgba(22, 27, 34, 0.5);
            border-top: 1px solid var(--card-border);
            border-bottom: 1px solid var(--card-border);
        }

        .stats-grid {
            max-width: 1280px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 2rem;
        }

        .stat-item {
            text-align: center;
        }

        .stat-value {
            font-size: 2.5rem;
            font-weight: 800;
            background: linear-gradient(135deg, var(--accent-green) 0%, var(--accent-gold) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 0.5rem;
        }

        .stat-label {
            color: var(--text-muted);
            font-size: 0.875rem;
        }

        /* Section */
        .section {
            max-width: 1280px;
            margin: 0 auto;
            padding: 5rem 2rem;
        }

        .section-header {
            text-align: center;
            margin-bottom: 4rem;
        }

        .section-title {
            font-size: 2.5rem;
            font-weight: 700;
            color: white;
            margin-bottom: 1rem;
        }

        .section-subtitle {
            font-size: 1.125rem;
            color: var(--text-muted);
            max-width: 600px;
            margin: 0 auto;
        }

        /* Features */
        .features-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 1.5rem;
        }

        .feature-card {
            background: var(--card-bg);
            border: 1px solid var(--card-border);
            border-radius: 12px;
            padding: 1.5rem;
            transition: all 0.3s;
        }

        .feature-card:hover {
            border-color: var(--accent-green);
            transform: translateY(-4px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3), 0 0 20px rgba(0, 210, 106, 0.1);
        }

        .feature-icon {
            width: 56px;
            height: 56px;
            background: rgba(0, 210, 106, 0.1);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--accent-green);
            margin-bottom: 1rem;
            font-size: 1.5rem;
        }

        .feature-title {
            font-size: 1.125rem;
            font-weight: 600;
            color: white;
            margin-bottom: 0.5rem;
        }

        .feature-description {
            font-size: 0.875rem;
            color: var(--text-muted);
        }

        /* Testimonials */
        .testimonials-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1.5rem;
        }

        .testimonial-card {
            background: var(--card-bg);
            border: 1px solid var(--card-border);
            border-radius: 12px;
            padding: 1.5rem;
            transition: all 0.3s;
        }

        .testimonial-card:hover {
            border-color: var(--accent-green);
        }

        .testimonial-stars {
            display: flex;
            gap: 0.25rem;
            margin-bottom: 1rem;
            color: var(--accent-gold);
        }

        .testimonial-text {
            color: var(--text-secondary);
            margin-bottom: 1.5rem;
            font-style: italic;
        }

        .testimonial-footer {
            display: flex;
            justify-content: space-between;
            align-items: flex-end;
        }

        .testimonial-author {
            font-weight: 600;
            color: white;
        }

        .testimonial-role {
            font-size: 0.875rem;
            color: var(--text-muted);
        }

        .testimonial-profit {
            background: rgba(0, 210, 106, 0.1);
            border: 1px solid var(--accent-green);
            color: var(--accent-green);
            padding: 0.25rem 0.75rem;
            border-radius: 50px;
            font-size: 0.75rem;
            font-weight: 600;
        }

        /* Courses */
        .courses-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 2rem;
            max-width: 900px;
            margin: 0 auto;
        }

        .course-card {
            background: var(--card-bg);
            border: 1px solid var(--card-border);
            border-radius: 16px;
            overflow: hidden;
            transition: all 0.3s;
        }

        .course-card:hover {
            border-color: var(--accent-green);
            transform: translateY(-4px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3), 0 0 20px rgba(0, 210, 106, 0.1);
        }

        .course-card.premium {
            border-color: var(--accent-gold);
        }

        .course-card.premium:hover {
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3), 0 0 20px rgba(255, 215, 0, 0.1);
        }

        .course-image {
            height: 160px;
            background: linear-gradient(135deg, var(--accent-green) 0%, var(--accent-green-dark) 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 4rem;
            position: relative;
        }

        .course-card.premium .course-image {
            background: linear-gradient(135deg, var(--accent-gold) 0%, #cc9900 100%);
        }

        .course-content {
            padding: 1.5rem;
        }

        .course-badge {
            display: inline-block;
            padding: 0.25rem 0.75rem;
            border-radius: 50px;
            font-size: 0.75rem;
            font-weight: 600;
            margin-bottom: 0.75rem;
        }

        .badge-beginner {
            background: rgba(0, 210, 106, 0.1);
            color: var(--accent-green);
        }

        .badge-advanced {
            background: rgba(255, 215, 0, 0.1);
            color: var(--accent-gold);
        }

        .course-title {
            font-size: 1.25rem;
            font-weight: 700;
            color: white;
            margin-bottom: 0.5rem;
        }

        .course-description {
            color: var(--text-muted);
            font-size: 0.875rem;
            margin-bottom: 1rem;
        }

        .course-meta {
            display: flex;
            gap: 1rem;
            margin-bottom: 1rem;
            color: var(--text-muted);
            font-size: 0.875rem;
        }

        .course-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding-top: 1rem;
            border-top: 1px solid var(--card-border);
        }

        .course-price {
            font-size: 1.75rem;
            font-weight: 700;
            color: var(--accent-green);
        }

        .course-card.premium .course-price {
            color: var(--accent-gold);
        }

        /* FAQ */
        .faq-list {
            max-width: 700px;
            margin: 0 auto;
        }

        .faq-item {
            background: var(--card-bg);
            border: 1px solid var(--card-border);
            border-radius: 12px;
            margin-bottom: 1rem;
            overflow: hidden;
            transition: all 0.3s;
        }

        .faq-item:hover {
            border-color: var(--accent-green);
        }

        .faq-question {
            width: 100%;
            padding: 1.25rem 1.5rem;
            background: none;
            border: none;
            text-align: left;
            font-size: 1rem;
            font-weight: 600;
            color: white;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .faq-question svg {
            color: var(--text-muted);
            transition: transform 0.3s;
        }

        .faq-item.open .faq-question svg {
            transform: rotate(180deg);
        }

        .faq-answer {
            display: none;
            padding: 0 1.5rem 1.25rem;
            color: var(--text-muted);
        }

        .faq-item.open .faq-answer {
            display: block;
        }

        /* CTA Section */
        .cta-section {
            padding: 5rem 2rem;
            text-align: center;
            position: relative;
            overflow: hidden;
            background:
                radial-gradient(ellipse at 50% 50%, rgba(0, 210, 106, 0.1) 0%, transparent 50%),
                var(--background);
        }

        .cta-section::before {
            content: '';
            position: absolute;
            inset: 0;
            background-image:
                linear-gradient(rgba(48, 54, 61, 0.3) 1px, transparent 1px),
                linear-gradient(90deg, rgba(48, 54, 61, 0.3) 1px, transparent 1px);
            background-size: 40px 40px;
        }

        .cta-content {
            position: relative;
            z-index: 1;
        }

        .cta-title {
            font-size: 2.5rem;
            font-weight: 700;
            color: white;
            margin-bottom: 1rem;
        }

        .cta-subtitle {
            font-size: 1.125rem;
            color: var(--text-muted);
            margin-bottom: 2rem;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }

        .cta-guarantee {
            margin-top: 1rem;
            font-size: 0.875rem;
            color: var(--text-muted);
        }

        /* Footer */
        .footer {
            background: var(--background);
            border-top: 1px solid var(--card-border);
            padding: 3rem 2rem;
        }

        .footer-content {
            max-width: 1280px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .footer-links {
            display: flex;
            gap: 2rem;
        }

        .footer-links a {
            color: var(--text-muted);
            text-decoration: none;
            font-size: 0.875rem;
            transition: color 0.2s;
        }

        .footer-links a:hover {
            color: white;
        }

        .footer-copy {
            color: var(--text-muted);
            font-size: 0.875rem;
        }

        /* Modal */
        .modal-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.8);
            z-index: 2000;
            align-items: center;
            justify-content: center;
            backdrop-filter: blur(4px);
        }

        .modal-overlay.active {
            display: flex;
        }

        .modal {
            background: var(--card-bg);
            border: 1px solid var(--card-border);
            border-radius: 16px;
            padding: 2rem;
            width: 90%;
            max-width: 450px;
            max-height: 90vh;
            overflow-y: auto;
            animation: modalIn 0.3s ease;
        }

        @keyframes modalIn {
            from { opacity: 0; transform: scale(0.9) translateY(20px); }
            to { opacity: 1; transform: scale(1) translateY(0); }
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }

        .modal-title {
            font-size: 1.5rem;
            font-weight: 700;
            color: white;
        }

        .modal-close {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--text-muted);
            transition: color 0.2s;
        }

        .modal-close:hover {
            color: white;
        }

        .form-group {
            margin-bottom: 1rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
            color: var(--text-secondary);
            font-size: 0.875rem;
        }

        .form-group input {
            width: 100%;
            padding: 0.75rem 1rem;
            background: var(--background);
            border: 1px solid var(--card-border);
            border-radius: 8px;
            font-size: 1rem;
            color: white;
            transition: border-color 0.3s;
        }

        .form-group input:focus {
            outline: none;
            border-color: var(--accent-green);
        }

        .form-group input::placeholder {
            color: var(--text-muted);
        }

        .form-error {
            color: var(--accent-red);
            font-size: 0.875rem;
            margin-top: 0.25rem;
        }

        .form-footer {
            margin-top: 1.5rem;
            text-align: center;
            color: var(--text-muted);
            font-size: 0.875rem;
        }

        .form-footer a {
            color: var(--accent-green);
            cursor: pointer;
            text-decoration: none;
        }

        .form-footer a:hover {
            text-decoration: underline;
        }

        /* Pages */
        .page {
            display: none;
            min-height: calc(100vh - 64px);
            padding-top: 64px;
        }

        .page.active {
            display: block;
        }

        /* Dashboard */
        .dashboard-header {
            background: linear-gradient(135deg, var(--background) 0%, var(--background-secondary) 100%);
            padding: 3rem 2rem;
            border-bottom: 1px solid var(--card-border);
        }

        .dashboard-header h1 {
            max-width: 1280px;
            margin: 0 auto;
            font-size: 2rem;
            font-weight: 700;
        }

        .dashboard-content {
            max-width: 1280px;
            margin: 0 auto;
            padding: 2rem;
        }

        .dashboard-stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .dashboard-stat {
            background: var(--card-bg);
            border: 1px solid var(--card-border);
            border-radius: 12px;
            padding: 1.5rem;
        }

        .dashboard-stat h3 {
            color: var(--text-muted);
            font-size: 0.875rem;
            font-weight: 500;
            margin-bottom: 0.5rem;
        }

        .dashboard-stat .value {
            font-size: 2rem;
            font-weight: 700;
            color: var(--accent-green);
        }

        /* Data Table */
        .data-table {
            width: 100%;
            background: var(--card-bg);
            border: 1px solid var(--card-border);
            border-radius: 12px;
            overflow: hidden;
        }

        .data-table th,
        .data-table td {
            padding: 1rem;
            text-align: left;
            border-bottom: 1px solid var(--card-border);
        }

        .data-table th {
            background: var(--background);
            font-weight: 600;
            color: var(--text-secondary);
            font-size: 0.875rem;
        }

        .data-table tr:hover {
            background: rgba(0, 210, 106, 0.05);
        }

        .data-table tr:last-child td {
            border-bottom: none;
        }

        .status-badge {
            padding: 0.25rem 0.75rem;
            border-radius: 50px;
            font-size: 0.75rem;
            font-weight: 600;
        }

        .status-active {
            background: rgba(0, 210, 106, 0.1);
            color: var(--accent-green);
        }

        .status-pending {
            background: rgba(255, 215, 0, 0.1);
            color: var(--accent-gold);
        }

        /* Payment Methods */
        .payment-methods {
            display: grid;
            gap: 1rem;
            margin: 1.5rem 0;
        }

        .payment-method {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1rem;
            background: var(--background);
            border: 1px solid var(--card-border);
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .payment-method:hover {
            border-color: var(--accent-green);
        }

        .payment-method.selected {
            border-color: var(--accent-green);
            background: rgba(0, 210, 106, 0.05);
        }

        .payment-method input {
            display: none;
        }

        .payment-icon {
            font-size: 2rem;
            width: 50px;
            text-align: center;
        }

        .payment-info h4 {
            font-weight: 600;
            color: white;
        }

        .payment-info p {
            font-size: 0.875rem;
            color: var(--text-muted);
        }

        /* Video Player */
        .video-container {
            position: relative;
            background: black;
            border-radius: 12px;
            overflow: hidden;
            aspect-ratio: 16/9;
            border: 1px solid var(--card-border);
        }

        .video-locked {
            position: absolute;
            inset: 0;
            background: rgba(0, 0, 0, 0.9);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: white;
        }

        .video-locked h3 {
            font-size: 1.5rem;
            margin: 1rem 0;
        }

        /* Lesson List */
        .lesson-list {
            background: var(--card-bg);
            border: 1px solid var(--card-border);
            border-radius: 12px;
            overflow: hidden;
        }

        .lesson-item {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1rem 1.5rem;
            border-bottom: 1px solid var(--card-border);
            cursor: pointer;
            transition: background 0.3s;
        }

        .lesson-item:last-child {
            border-bottom: none;
        }

        .lesson-item:hover {
            background: rgba(0, 210, 106, 0.05);
        }

        .lesson-item.active {
            background: rgba(0, 210, 106, 0.1);
            border-left: 3px solid var(--accent-green);
        }

        .lesson-item.locked {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .lesson-number {
            width: 32px;
            height: 32px;
            background: var(--background);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            color: var(--accent-green);
            font-size: 0.875rem;
        }

        .lesson-item.completed .lesson-number {
            background: var(--accent-green);
            color: black;
        }

        .lesson-info {
            flex: 1;
        }

        .lesson-title {
            font-weight: 600;
            color: white;
        }

        .lesson-duration {
            font-size: 0.875rem;
            color: var(--text-muted);
        }

        /* Admin Tabs */
        .admin-tabs {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 2rem;
            border-bottom: 1px solid var(--card-border);
            padding-bottom: 1rem;
        }

        .admin-tab {
            padding: 0.5rem 1rem;
            border: none;
            background: none;
            font-size: 0.875rem;
            font-weight: 500;
            cursor: pointer;
            color: var(--text-muted);
            border-bottom: 2px solid transparent;
            margin-bottom: -1rem;
            padding-bottom: calc(1rem + 2px);
            transition: all 0.2s;
        }

        .admin-tab:hover {
            color: white;
        }

        .admin-tab.active {
            color: var(--accent-green);
            border-bottom-color: var(--accent-green);
        }

        /* Toast */
        .toast-container {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            z-index: 3000;
        }

        .toast {
            background: var(--card-bg);
            border: 1px solid var(--card-border);
            color: white;
            padding: 1rem 1.5rem;
            border-radius: 12px;
            margin-bottom: 0.5rem;
            animation: slideIn 0.3s ease;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }

        @keyframes slideIn {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        /* Alert */
        .alert {
            padding: 1rem 1.5rem;
            border-radius: 12px;
            margin-bottom: 1rem;
            border: 1px solid;
        }

        .alert-success {
            background: rgba(0, 210, 106, 0.1);
            border-color: var(--accent-green);
            color: var(--accent-green);
        }

        .alert-error {
            background: rgba(255, 71, 87, 0.1);
            border-color: var(--accent-red);
            color: var(--accent-red);
        }

        .alert-info {
            background: rgba(0, 210, 106, 0.05);
            border-color: var(--card-border);
            color: var(--text-secondary);
        }

        .alert a {
            color: var(--accent-green);
        }

        /* Demo Info */
        .demo-info {
            background: rgba(0, 210, 106, 0.05);
            border: 1px solid var(--card-border);
            border-radius: 8px;
            padding: 1rem;
            margin-top: 1rem;
            font-size: 0.875rem;
        }

        .demo-info strong {
            color: var(--accent-green);
        }

        /* Responsive */
        @media (max-width: 1024px) {
            .hero-content {
                grid-template-columns: 1fr;
                text-align: center;
            }

            .hero h1 {
                font-size: 2.5rem;
            }

            .hero p {
                margin: 0 auto 2rem;
            }

            .hero-buttons {
                justify-content: center;
            }

            .hero-features {
                justify-content: center;
            }

            .screenshot-container {
                max-width: 500px;
                margin: 0 auto;
            }

            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }

            .features-grid {
                grid-template-columns: repeat(2, 1fr);
            }

            .testimonials-grid {
                grid-template-columns: 1fr;
            }

            .courses-grid {
                grid-template-columns: 1fr;
            }

            .dashboard-stats {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 640px) {
            .navbar {
                padding: 0 1rem;
            }

            .nav-links {
                gap: 0.25rem;
            }

            .nav-links a, .nav-links button {
                padding: 0.5rem;
                font-size: 0.75rem;
            }

            .hero {
                padding: 6rem 1rem 3rem;
            }

            .hero h1 {
                font-size: 2rem;
            }

            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 1rem;
            }

            .stat-value {
                font-size: 1.75rem;
            }

            .features-grid {
                grid-template-columns: 1fr;
            }

            .footer-content {
                flex-direction: column;
                gap: 1rem;
                text-align: center;
            }

            .course-layout {
                grid-template-columns: 1fr !important;
            }
        }

        /* Blur protection */
        .blur-protection {
            filter: blur(20px);
            pointer-events: none;
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="navbar-content">
            <a href="#" class="logo" onclick="showPage('home')">
                <div class="logo-icon">
                    <svg width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6" />
                    </svg>
                </div>
                TradeMaster<span>Pro</span>
            </a>
            <div class="nav-links" id="navLinks">
                <a href="#" onclick="showPage('home')">Strona Glowna</a>
                <a href="#courses-section" onclick="showPage('home')">Kursy</a>
                <button class="btn btn-outline" onclick="showModal('login')">Zaloguj</button>
                <button class="btn btn-primary" onclick="showModal('register')">Dolacz teraz</button>
            </div>
            <div class="nav-links" id="navLinksLoggedIn" style="display: none;">
                <a href="#" onclick="showPage('home')">Strona Glowna</a>
                <a href="#" onclick="showPage('dashboard')">Dashboard</a>
                <a href="#" onclick="showPage('admin')" id="adminLink" style="display: none;">Admin</a>
                <span id="userEmail" style="color: var(--text-muted); font-size: 0.875rem;"></span>
                <button class="btn btn-outline" onclick="logout()">Wyloguj</button>
            </div>
        </div>
    </nav>

    <!-- Home Page -->
    <div class="page active" id="page-home">
        <!-- Hero -->
        <section class="hero">
            <div class="hero-content">
                <div>
                    <div class="hero-badge">Nowy kurs 2025 dostepny</div>
                    <h1>
                        Zarabiaj na rynkach
                        <span class="gradient-text">jak profesjonalisci</span>
                    </h1>
                    <p>Dolacz do ponad 2,800 traderow, ktorzy zmienili swoje podejscie do tradingu dzieki sprawdzonym strategiom i wsparciu ekspertow.</p>
                    <div class="hero-buttons">
                        <a href="#courses-section" class="btn btn-primary btn-lg">
                            Rozpocznij nauke
                            <svg width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6" />
                            </svg>
                        </a>
                        <a href="#results" class="btn btn-secondary btn-lg">Zobacz wyniki</a>
                    </div>
                    <div class="hero-features">
                        <span>
                            <svg width="20" height="20" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
                            </svg>
                            Dozywotni dostep
                        </span>
                        <span>
                            <svg width="20" height="20" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
                            </svg>
                            Wsparcie 24/7
                        </span>
                    </div>
                </div>
                <div class="screenshot-container">
                    <div class="screenshot-glow"></div>
                    <div class="screenshot-window">
                        <div class="screenshot-header">
                            <div class="screenshot-dot red"></div>
                            <div class="screenshot-dot yellow"></div>
                            <div class="screenshot-dot green"></div>
                            <span class="screenshot-title">TradingView - EUR/USD</span>
                        </div>
                        <div class="screenshot-body">
                            <div class="chart-placeholder">
                                <div class="chart-candles">
                                    <div class="candle"></div>
                                    <div class="candle red"></div>
                                    <div class="candle"></div>
                                    <div class="candle"></div>
                                    <div class="candle red"></div>
                                    <div class="candle"></div>
                                    <div class="candle"></div>
                                    <div class="candle"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="profit-float">
                        <div class="profit-float-label">Dzisiejszy zysk</div>
                        <div class="profit-float-value">+$2,847</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Stats -->
        <section class="stats-section">
            <div class="stats-grid">
                <div class="stat-item">
                    <div class="stat-value">2,847+</div>
                    <div class="stat-label">Aktywnych studentow</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value">89%</div>
                    <div class="stat-label">Wskaznik sukcesu</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value">‚Ç¨4.2M+</div>
                    <div class="stat-label">Wypracowany zysk studentow</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value">15+</div>
                    <div class="stat-label">Lat doswiadczenia</div>
                </div>
            </div>
        </section>

        <!-- Features -->
        <section class="section" style="background: rgba(22, 27, 34, 0.3);">
            <div class="section-header">
                <h2 class="section-title">Co otrzymujesz w kursie?</h2>
                <p class="section-subtitle">Kompleksowe szkolenie tradingowe z wszystkim, czego potrzebujesz, zeby zaczac zarabiac na rynkach.</p>
            </div>
            <div class="features-grid">
                <div class="feature-card">
                    <div class="feature-icon">‚úì</div>
                    <h3 class="feature-title">Sprawdzone strategie</h3>
                    <p class="feature-description">Strategie przetestowane na rynkach przez ponad 15 lat. Zadnych teorii - tylko to, co dziala.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">üìπ</div>
                    <h3 class="feature-title">Live Trading Sessions</h3>
                    <p class="feature-description">Cotygodniowe sesje live gdzie analizujemy rynek w czasie rzeczywistym i szukamy setupow.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">üí¨</div>
                    <h3 class="feature-title">Wsparcie mentora</h3>
                    <p class="feature-description">Bezposredni dostep do mentora. Odpowiedzi na pytania, analiza Twoich trade'ow.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">üõ°Ô∏è</div>
                    <h3 class="feature-title">Risk Management</h3>
                    <p class="feature-description">Nauczysz sie profesjonalnego zarzadzania ryzykiem i kapitalem - klucz do sukcesu.</p>
                </div>
            </div>
        </section>

        <!-- Testimonials -->
        <section class="section" id="results">
            <div class="section-header">
                <h2 class="section-title">Co mowia nasi studenci?</h2>
                <p class="section-subtitle">Dolacz do spolecznosci traderow, ktorzy juz zmienili swoje zycie.</p>
            </div>
            <div class="testimonials-grid">
                <div class="testimonial-card">
                    <div class="testimonial-stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
                    <p class="testimonial-text">"Po 6 miesiacach kursu rzucilem prace i traduje full-time. Strategia price action zmienila moje podejscie do rynkow."</p>
                    <div class="testimonial-footer">
                        <div>
                            <div class="testimonial-author">Marcin K.</div>
                            <div class="testimonial-role">Full-time Trader od 2023</div>
                        </div>
                        <div class="testimonial-profit">+340% ROI</div>
                    </div>
                </div>
                <div class="testimonial-card">
                    <div class="testimonial-stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
                    <p class="testimonial-text">"Najlepsza inwestycja w siebie. Jasne tlumaczenie, swietna spolecznosc i realne wyniki. Polecam kazdemu."</p>
                    <div class="testimonial-footer">
                        <div>
                            <div class="testimonial-author">Anna W.</div>
                            <div class="testimonial-role">Inwestorka, Warszawa</div>
                        </div>
                        <div class="testimonial-profit">+‚Ç¨28,500</div>
                    </div>
                </div>
                <div class="testimonial-card">
                    <div class="testimonial-stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
                    <p class="testimonial-text">"Wreszcie kurs, ktory uczy prawdziwego tradingu a nie teorii. Support jest niesamowity."</p>
                    <div class="testimonial-footer">
                        <div>
                            <div class="testimonial-author">Tomasz P.</div>
                            <div class="testimonial-role">Trader Forex</div>
                        </div>
                        <div class="testimonial-profit">+67% Q4</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Courses -->
        <section class="section" id="courses-section" style="background: rgba(22, 27, 34, 0.3);">
            <div class="section-header">
                <h2 class="section-title">Wybierz swoj kurs</h2>
                <p class="section-subtitle">Znajdz kurs dopasowany do Twojego poziomu i celow tradingowych.</p>
            </div>
            <div class="courses-grid">
                <div class="course-card">
                    <div class="course-image">üìä</div>
                    <div class="course-content">
                        <span class="course-badge badge-beginner">Podstawowy</span>
                        <h3 class="course-title">Trading od Podstaw</h3>
                        <p class="course-description">Idealny kurs dla poczatkujacych. Poznasz podstawy analizy technicznej, zarzadzania ryzykiem i psychologii tradingu.</p>
                        <div class="course-meta">
                            <span>üìö 12 lekcji</span>
                            <span>‚è±Ô∏è 8 godzin</span>
                        </div>
                        <div class="course-footer">
                            <div class="course-price">299 PLN</div>
                            <button class="btn btn-primary" onclick="showCourseDetails('basic')">Zobacz Wiecej</button>
                        </div>
                    </div>
                </div>
                <div class="course-card premium">
                    <div class="course-image">üöÄ</div>
                    <div class="course-content">
                        <span class="course-badge badge-advanced">Zaawansowany</span>
                        <h3 class="course-title">Zaawansowane Strategie</h3>
                        <p class="course-description">Dla tych, ktorzy chca wyjsc na wyzszy poziom. Zaawansowana analiza, strategie day tradingu i scalping.</p>
                        <div class="course-meta">
                            <span>üìö 20 lekcji</span>
                            <span>‚è±Ô∏è 15 godzin</span>
                        </div>
                        <div class="course-footer">
                            <div class="course-price">599 PLN</div>
                            <button class="btn btn-primary" onclick="showCourseDetails('advanced')">Zobacz Wiecej</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- FAQ -->
        <section class="section">
            <div class="section-header">
                <h2 class="section-title">Czesto zadawane pytania</h2>
            </div>
            <div class="faq-list">
                <div class="faq-item">
                    <button class="faq-question" onclick="toggleFaq(this)">
                        Czy kurs jest odpowiedni dla poczatkujacych?
                        <svg width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
                        </svg>
                    </button>
                    <div class="faq-answer">Tak! Mamy dedykowany modul dla poczatkujacych, ktory przeprowadzi Cie przez podstawy tradingu krok po kroku. Nie musisz miec zadnego doswiadczenia.</div>
                </div>
                <div class="faq-item">
                    <button class="faq-question" onclick="toggleFaq(this)">
                        Jak dlugo mam dostep do materialow?
                        <svg width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
                        </svg>
                    </button>
                    <div class="faq-answer">Dostep do materialow jest dozywotni. Kupujesz raz i masz dostep na zawsze, wlacznie z wszystkimi przyszlymi aktualizacjami.</div>
                </div>
                <div class="faq-item">
                    <button class="faq-question" onclick="toggleFaq(this)">
                        Ile czasu musze poswiecic na nauke?
                        <svg width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
                        </svg>
                    </button>
                    <div class="faq-answer">Zalecamy minimum 1-2 godziny dziennie na nauke i praktyke. Im wiecej czasu poswiecisz, tym szybciej zobaczysz wyniki.</div>
                </div>
                <div class="faq-item">
                    <button class="faq-question" onclick="toggleFaq(this)">
                        Czy moge zarabiac tradujac part-time?
                        <svg width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
                        </svg>
                    </button>
                    <div class="faq-answer">Absolutnie tak. Wielu naszych studentow traduje 2-3 godziny dziennie i osiaga swietne wyniki. Nauczymy Cie jak znalezc najlepsze sesje pod Twoj harmonogram.</div>
                </div>
            </div>
        </section>

        <!-- CTA -->
        <section class="cta-section">
            <div class="cta-content">
                <h2 class="cta-title">Gotowy, zeby zmienic swoje zycie?</h2>
                <p class="cta-subtitle">Dolacz do tysiecy traderow, ktorzy juz zarabiaja na rynkach. Rozpocznij swoja podroz dzisiaj.</p>
                <a href="#courses-section" class="btn btn-primary btn-lg">
                    Dolacz teraz
                    <svg width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6" />
                    </svg>
                </a>
                <p class="cta-guarantee">30-dniowa gwarancja zwrotu pieniedzy</p>
            </div>
        </section>

        <!-- Footer -->
        <footer class="footer">
            <div class="footer-content">
                <a href="#" class="logo" onclick="showPage('home')">
                    <div class="logo-icon">
                        <svg width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6" />
                        </svg>
                    </div>
                    TradeMaster<span>Pro</span>
                </a>
                <div class="footer-copy">¬© 2025 TradeMasterPro. Wszelkie prawa zastrzezone.</div>
                <div class="footer-links">
                    <a href="#">Regulamin</a>
                    <a href="#">Polityka prywatnosci</a>
                    <a href="#">Kontakt</a>
                </div>
            </div>
        </footer>
    </div>

    <!-- Dashboard Page -->
    <div class="page" id="page-dashboard">
        <div class="dashboard-header">
            <h1>Witaj, <span id="dashboardUserName">Uzytkowniku</span>!</h1>
        </div>
        <div class="dashboard-content">
            <div class="dashboard-stats">
                <div class="dashboard-stat">
                    <h3>Zakupione Kursy</h3>
                    <div class="value" id="purchasedCoursesCount">0</div>
                </div>
                <div class="dashboard-stat">
                    <h3>Ukonczonych Lekcji</h3>
                    <div class="value" id="completedLessonsCount">0</div>
                </div>
                <div class="dashboard-stat">
                    <h3>Twoj Postep</h3>
                    <div class="value" id="progressPercent">0%</div>
                </div>
            </div>

            <h2 style="margin: 2rem 0 1rem; font-size: 1.5rem;">Twoje Kursy</h2>
            <div class="courses-grid" id="userCourses" style="max-width: 100%;">
                <div class="alert alert-info">
                    Nie masz jeszcze zadnych kursow. <a href="#" onclick="showPage('home')">Przegladaj kursy</a>
                </div>
            </div>

            <h2 style="margin: 2rem 0 1rem; font-size: 1.5rem;">Historia Platnosci</h2>
            <table class="data-table" id="paymentHistory">
                <thead>
                    <tr>
                        <th>Data</th>
                        <th>Kurs</th>
                        <th>Metoda</th>
                        <th>Kwota</th>
                        <th>Status</th>
                    </tr>
                </thead>
                <tbody id="paymentHistoryBody">
                    <tr>
                        <td colspan="5" style="text-align: center; color: var(--text-muted);">Brak historii platnosci</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <!-- Course Detail Page -->
    <div class="page" id="page-course">
        <div class="dashboard-header" id="courseHeader">
            <h1 id="courseTitle">Kurs</h1>
        </div>
        <div class="dashboard-content">
            <div style="display: grid; grid-template-columns: 2fr 1fr; gap: 2rem;" class="course-layout">
                <div>
                    <div class="video-container" id="videoContainer">
                        <div class="video-locked" id="videoLocked">
                            <span style="font-size: 4rem;">üîí</span>
                            <h3>Kurs Zablokowany</h3>
                            <p style="margin-bottom: 1rem; color: var(--text-muted);">Kup kurs, aby uzyskac dostep do materialow</p>
                            <button class="btn btn-primary" onclick="showModal('payment')">Kup Teraz</button>
                        </div>
                        <video class="video-player" id="videoPlayer" style="display: none; width: 100%; height: 100%;" controls controlsList="nodownload">
                            <source src="" type="video/mp4">
                        </video>
                        <div id="videoWatermark" style="position: absolute; color: rgba(255,255,255,0.3); font-size: 0.875rem; pointer-events: none; padding: 0.5rem;"></div>
                    </div>
                    <div style="margin-top: 1rem;">
                        <h3 id="currentLessonTitle" style="font-size: 1.25rem; font-weight: 600;">Wybierz lekcje z listy</h3>
                        <p id="currentLessonDescription" style="color: var(--text-muted); margin-top: 0.5rem;"></p>
                    </div>
                </div>
                <div>
                    <h3 style="margin-bottom: 1rem; font-size: 1.125rem; font-weight: 600;">Lekcje</h3>
                    <div class="lesson-list" id="lessonList"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Admin Page -->
    <div class="page" id="page-admin">
        <div class="dashboard-header">
            <h1>Panel Administratora</h1>
        </div>
        <div class="dashboard-content">
            <div class="admin-tabs">
                <button class="admin-tab active" onclick="switchAdminTab('courses')">Kursy</button>
                <button class="admin-tab" onclick="switchAdminTab('users')">Uzytkownicy</button>
                <button class="admin-tab" onclick="switchAdminTab('payments')">Platnosci</button>
                <button class="admin-tab" onclick="switchAdminTab('settings')">Ustawienia</button>
            </div>

            <div id="admin-courses" class="admin-panel-content">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                    <h2 style="font-size: 1.25rem;">Zarzadzanie Kursami</h2>
                    <button class="btn btn-primary" onclick="showToast('Demo: Dodawanie kursow')">+ Dodaj Kurs</button>
                </div>
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>Nazwa</th>
                            <th>Poziom</th>
                            <th>Cena</th>
                            <th>Lekcje</th>
                            <th>Sprzedane</th>
                            <th>Akcje</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Trading od Podstaw</td>
                            <td><span class="course-badge badge-beginner">Podstawowy</span></td>
                            <td>299 PLN</td>
                            <td>12</td>
                            <td>156</td>
                            <td><button class="btn btn-outline" style="padding: 0.25rem 0.75rem; font-size: 0.75rem;" onclick="showToast('Demo: Edycja kursu')">Edytuj</button></td>
                        </tr>
                        <tr>
                            <td>Zaawansowane Strategie</td>
                            <td><span class="course-badge badge-advanced">Zaawansowany</span></td>
                            <td>599 PLN</td>
                            <td>20</td>
                            <td>89</td>
                            <td><button class="btn btn-outline" style="padding: 0.25rem 0.75rem; font-size: 0.75rem;" onclick="showToast('Demo: Edycja kursu')">Edytuj</button></td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div id="admin-users" class="admin-panel-content" style="display: none;">
                <h2 style="margin-bottom: 1rem; font-size: 1.25rem;">Uzytkownicy</h2>
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>Email</th>
                            <th>Rola</th>
                            <th>Data Rejestracji</th>
                            <th>Zakupione Kursy</th>
                            <th>Status</th>
                        </tr>
                    </thead>
                    <tbody id="adminUsersTable"></tbody>
                </table>
            </div>

            <div id="admin-payments" class="admin-panel-content" style="display: none;">
                <h2 style="margin-bottom: 1rem; font-size: 1.25rem;">Historia Platnosci</h2>
                <div class="dashboard-stats" style="margin-bottom: 2rem;">
                    <div class="dashboard-stat">
                        <h3>Laczne Przychody</h3>
                        <div class="value">24,750 PLN</div>
                    </div>
                    <div class="dashboard-stat">
                        <h3>Ten Miesiac</h3>
                        <div class="value">4,200 PLN</div>
                    </div>
                    <div class="dashboard-stat">
                        <h3>Sprzedanych Kursow</h3>
                        <div class="value">245</div>
                    </div>
                </div>
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>Data</th>
                            <th>Uzytkownik</th>
                            <th>Kurs</th>
                            <th>Metoda</th>
                            <th>Kwota</th>
                            <th>Status</th>
                        </tr>
                    </thead>
                    <tbody id="adminPaymentsTable"></tbody>
                </table>
            </div>

            <div id="admin-settings" class="admin-panel-content" style="display: none;">
                <h2 style="margin-bottom: 1rem; font-size: 1.25rem;">Ustawienia Platformy</h2>
                <div style="background: var(--card-bg); padding: 2rem; border-radius: 12px; border: 1px solid var(--card-border);">
                    <div class="form-group">
                        <label>Nazwa Platformy</label>
                        <input type="text" value="TradeMasterPro">
                    </div>
                    <div class="form-group">
                        <label>Email Kontaktowy</label>
                        <input type="email" value="kontakt@trademasterpro.pl">
                    </div>
                    <div class="form-group">
                        <label>Waluta</label>
                        <input type="text" value="PLN" readonly style="opacity: 0.7;">
                    </div>
                    <div class="form-group">
                        <label style="display: flex; align-items: center; gap: 0.5rem; cursor: pointer;">
                            <input type="checkbox" checked style="width: auto;"> Wlacz rejestracje nowych uzytkownikow
                        </label>
                    </div>
                    <div class="form-group">
                        <label style="display: flex; align-items: center; gap: 0.5rem; cursor: pointer;">
                            <input type="checkbox" checked style="width: auto;"> Wlacz znak wodny na filmach
                        </label>
                    </div>
                    <button class="btn btn-primary" onclick="showToast('Ustawienia zapisane (demo)')">Zapisz Ustawienia</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Login Modal -->
    <div class="modal-overlay" id="modal-login">
        <div class="modal">
            <div class="modal-header">
                <h2 class="modal-title">Zaloguj sie</h2>
                <button class="modal-close" onclick="hideModal('login')">&times;</button>
            </div>
            <form onsubmit="handleLogin(event)">
                <div class="form-group">
                    <label>Email</label>
                    <input type="email" id="loginEmail" required placeholder="twoj@email.pl">
                </div>
                <div class="form-group">
                    <label>Haslo</label>
                    <input type="password" id="loginPassword" required placeholder="Twoje haslo">
                </div>
                <div class="form-error" id="loginError"></div>
                <button type="submit" class="btn btn-primary" style="width: 100%;">Zaloguj sie</button>
                <div class="form-footer">
                    <p>Nie masz konta? <a onclick="hideModal('login'); showModal('register')">Zarejestruj sie</a></p>
                </div>
            </form>
            <div class="demo-info">
                <strong>Demo:</strong><br>
                Admin: admin@demo.pl / admin123<br>
                User: user@demo.pl / user123
            </div>
        </div>
    </div>

    <!-- Register Modal -->
    <div class="modal-overlay" id="modal-register">
        <div class="modal">
            <div class="modal-header">
                <h2 class="modal-title">Zarejestruj sie</h2>
                <button class="modal-close" onclick="hideModal('register')">&times;</button>
            </div>
            <form onsubmit="handleRegister(event)">
                <div class="form-group">
                    <label>Imie</label>
                    <input type="text" id="registerName" required placeholder="Twoje imie">
                </div>
                <div class="form-group">
                    <label>Email</label>
                    <input type="email" id="registerEmail" required placeholder="twoj@email.pl">
                </div>
                <div class="form-group">
                    <label>Haslo</label>
                    <input type="password" id="registerPassword" required minlength="6" placeholder="Min. 6 znakow">
                </div>
                <div class="form-group">
                    <label>Powtorz Haslo</label>
                    <input type="password" id="registerPasswordConfirm" required placeholder="Powtorz haslo">
                </div>
                <div class="form-error" id="registerError"></div>
                <button type="submit" class="btn btn-primary" style="width: 100%;">Zarejestruj sie</button>
                <div class="form-footer">
                    <p>Masz juz konto? <a onclick="hideModal('register'); showModal('login')">Zaloguj sie</a></p>
                </div>
            </form>
        </div>
    </div>

    <!-- Payment Modal -->
    <div class="modal-overlay" id="modal-payment">
        <div class="modal">
            <div class="modal-header">
                <h2 class="modal-title">Kup Kurs</h2>
                <button class="modal-close" onclick="hideModal('payment')">&times;</button>
            </div>
            <div id="paymentCourseInfo">
                <h3 id="paymentCourseName" style="font-size: 1.25rem; font-weight: 600;">Trading od Podstaw</h3>
                <p style="color: var(--text-muted); font-size: 0.875rem;" id="paymentCourseDesc">Kurs podstawowy tradingu</p>
                <div class="course-price" style="margin: 1rem 0;" id="paymentCoursePrice">299 PLN</div>
            </div>

            <h4 style="margin-bottom: 0.5rem; font-size: 0.875rem; color: var(--text-secondary);">Wybierz metode platnosci:</h4>
            <div class="payment-methods">
                <label class="payment-method" onclick="selectPayment('apple')">
                    <input type="radio" name="payment" value="apple">
                    <div class="payment-icon">üçé</div>
                    <div class="payment-info">
                        <h4>Apple Pay</h4>
                        <p>Szybka platnosc przez Apple</p>
                    </div>
                </label>
                <label class="payment-method" onclick="selectPayment('blik')">
                    <input type="radio" name="payment" value="blik">
                    <div class="payment-icon">üì±</div>
                    <div class="payment-info">
                        <h4>BLIK</h4>
                        <p>Platnosc kodem BLIK</p>
                    </div>
                </label>
                <label class="payment-method" onclick="selectPayment('card')">
                    <input type="radio" name="payment" value="card">
                    <div class="payment-icon">üí≥</div>
                    <div class="payment-info">
                        <h4>Karta Kredytowa/Debetowa</h4>
                        <p>Visa, Mastercard, inne</p>
                    </div>
                </label>
            </div>

            <div id="blikInput" style="display: none;">
                <div class="form-group">
                    <label>Wprowadz kod BLIK</label>
                    <input type="text" id="blikCode" maxlength="6" pattern="[0-9]{6}" placeholder="000000" style="text-align: center; font-size: 1.5rem; letter-spacing: 0.5rem;">
                </div>
            </div>

            <div id="cardInput" style="display: none;">
                <div class="form-group">
                    <label>Numer Karty</label>
                    <input type="text" id="cardNumber" maxlength="19" placeholder="0000 0000 0000 0000">
                </div>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
                    <div class="form-group">
                        <label>Data Waznosci</label>
                        <input type="text" id="cardExpiry" maxlength="5" placeholder="MM/RR">
                    </div>
                    <div class="form-group">
                        <label>CVV</label>
                        <input type="text" id="cardCvv" maxlength="4" placeholder="000">
                    </div>
                </div>
            </div>

            <button class="btn btn-primary" style="width: 100%; margin-top: 1rem;" onclick="processPayment()">Zaplac</button>
            <p style="text-align: center; margin-top: 1rem; font-size: 0.75rem; color: var(--text-muted);">
                üîí Platnosc jest bezpieczna i szyfrowana
            </p>
        </div>
    </div>

    <!-- Payment Success Modal -->
    <div class="modal-overlay" id="modal-payment-success">
        <div class="modal" style="text-align: center;">
            <div style="font-size: 4rem; margin-bottom: 1rem;">‚úÖ</div>
            <h2 style="margin-bottom: 1rem; font-size: 1.5rem;">Platnosc Zakonczona!</h2>
            <p style="color: var(--text-muted); margin-bottom: 2rem;">Dziekujemy za zakup. Mozesz teraz rozpoczac nauke.</p>
            <button class="btn btn-primary" onclick="hideModal('payment-success'); showPage('course');">Przejdz do Kursu</button>
        </div>
    </div>

    <!-- Toast Container -->
    <div class="toast-container" id="toastContainer"></div>

    <script>
        // ===========================================
        // DATABASE (localStorage simulation)
        // ===========================================
        const DB = {
            defaultUsers: [
                { id: 'admin-1', email: 'admin@demo.pl', password: 'admin123', name: 'Administrator', role: 'ADMIN', createdAt: '2024-01-01' },
                { id: 'user-1', email: 'user@demo.pl', password: 'user123', name: 'Jan Kowalski', role: 'USER', createdAt: '2024-06-15' }
            ],
            courses: {
                basic: {
                    id: 'basic',
                    name: 'Trading od Podstaw',
                    level: 'BEGINNER',
                    description: 'Idealny kurs dla poczatkujacych. Poznasz podstawy analizy technicznej, zarzadzania ryzykiem i psychologii tradingu.',
                    price: 299,
                    lessons: [
                        { id: 'b1', title: 'Wprowadzenie do tradingu', duration: '15:00', description: 'Poznaj podstawy rynkow finansowych.' },
                        { id: 'b2', title: 'Rodzaje rynkow', duration: '20:00', description: 'Forex, akcje, kryptowaluty.' },
                        { id: 'b3', title: 'Analiza techniczna - podstawy', duration: '25:00', description: 'Wykresy i swiece japonskie.' },
                        { id: 'b4', title: 'Wsparcia i opory', duration: '18:00', description: 'Kluczowe poziomy cenowe.' },
                        { id: 'b5', title: 'Srednie kroczace', duration: '22:00', description: 'Wykorzystanie srednich.' },
                        { id: 'b6', title: 'Wskazniki techniczne', duration: '30:00', description: 'RSI, MACD, Stochastic.' },
                        { id: 'b7', title: 'Zarzadzanie ryzykiem', duration: '25:00', description: 'Stop Loss i Take Profit.' },
                        { id: 'b8', title: 'Psychologia tradingu', duration: '20:00', description: 'Emocje w tradingu.' },
                        { id: 'b9', title: 'Plan tradingowy', duration: '18:00', description: 'Tworzenie planu.' },
                        { id: 'b10', title: 'Wybor brokera', duration: '15:00', description: 'Jak wybrac brokera.' },
                        { id: 'b11', title: 'Pierwsza transakcja', duration: '20:00', description: 'Praktyczne cwiczenie.' },
                        { id: 'b12', title: 'Podsumowanie', duration: '12:00', description: 'Dalsze kroki.' }
                    ]
                },
                advanced: {
                    id: 'advanced',
                    name: 'Zaawansowane Strategie',
                    level: 'ADVANCED',
                    description: 'Dla tych, ktorzy chca wyjsc na wyzszy poziom. Zaawansowana analiza, strategie day tradingu i scalping.',
                    price: 599,
                    lessons: [
                        { id: 'a1', title: 'Price Action zaawansowane', duration: '30:00', description: 'Zaawansowane techniki.' },
                        { id: 'a2', title: 'Formacje harmoniczne', duration: '35:00', description: 'Gartley, Bat, Butterfly.' },
                        { id: 'a3', title: 'Fale Elliotta', duration: '40:00', description: 'Teoria fal w praktyce.' },
                        { id: 'a4', title: 'Fibonacci zaawansowany', duration: '25:00', description: 'Poziomy Fibonacci.' },
                        { id: 'a5', title: 'Order Flow', duration: '35:00', description: 'Analiza przeplywu zlecen.' },
                        { id: 'a6', title: 'Day Trading', duration: '40:00', description: 'Strategia day tradingowa.' },
                        { id: 'a7', title: 'Scalping', duration: '30:00', description: 'Szybkie transakcje.' },
                        { id: 'a8', title: 'Swing Trading', duration: '35:00', description: 'Srednie interwaly.' },
                        { id: 'a9', title: 'Multi-timeframe', duration: '25:00', description: 'Analiza wielointerwalowa.' },
                        { id: 'a10', title: 'Backtesting', duration: '30:00', description: 'Testowanie strategii.' },
                        { id: 'a11', title: 'Automatyzacja', duration: '35:00', description: 'Trading algorytmiczny.' },
                        { id: 'a12', title: 'Risk Management Pro', duration: '25:00', description: 'Profesjonalne ryzyko.' },
                        { id: 'a13', title: 'Psychologia Pro', duration: '30:00', description: 'Mindset profesjonalisty.' },
                        { id: 'a14', title: 'Analiza fundamentalna', duration: '35:00', description: 'Wiadomosci makro.' },
                        { id: 'a15', title: 'Korelacje rynkowe', duration: '25:00', description: 'Wplyw rynkow.' },
                        { id: 'a16', title: 'Budowanie portfela', duration: '30:00', description: 'Dywersyfikacja.' },
                        { id: 'a17', title: 'Dziennik tradera', duration: '20:00', description: 'Prowadzenie dziennika.' },
                        { id: 'a18', title: 'Optymalizacja', duration: '35:00', description: 'Doskonalenie systemu.' },
                        { id: 'a19', title: 'Live session', duration: '60:00', description: 'Trading na zywo.' },
                        { id: 'a20', title: 'Plan rozwoju', duration: '25:00', description: 'Dalsze kroki.' }
                    ]
                }
            },
            samplePayments: [
                { date: '2024-12-28', user: 'jan@example.pl', course: 'Trading od Podstaw', method: 'BLIK', amount: 299, status: 'completed' },
                { date: '2024-12-27', user: 'anna@example.pl', course: 'Zaawansowane Strategie', method: 'Card', amount: 599, status: 'completed' },
                { date: '2024-12-26', user: 'piotr@example.pl', course: 'Trading od Podstaw', method: 'Apple Pay', amount: 299, status: 'completed' },
                { date: '2024-12-25', user: 'maria@example.pl', course: 'Zaawansowane Strategie', method: 'BLIK', amount: 599, status: 'pending' },
            ],
            getUsers() {
                const stored = localStorage.getItem('tm_users');
                if (stored) {
                    const users = JSON.parse(stored);
                    this.defaultUsers.forEach(defaultUser => {
                        if (!users.find(u => u.email === defaultUser.email)) users.push(defaultUser);
                    });
                    return users;
                }
                return [...this.defaultUsers];
            },
            saveUsers(users) { localStorage.setItem('tm_users', JSON.stringify(users)); },
            getPurchases() { return JSON.parse(localStorage.getItem('tm_purchases') || '[]'); },
            savePurchases(purchases) { localStorage.setItem('tm_purchases', JSON.stringify(purchases)); },
            getProgress() { return JSON.parse(localStorage.getItem('tm_progress') || '{}'); },
            saveProgress(progress) { localStorage.setItem('tm_progress', JSON.stringify(progress)); },
            getCurrentUser() { return JSON.parse(localStorage.getItem('tm_current_user') || 'null'); },
            setCurrentUser(user) { localStorage.setItem('tm_current_user', JSON.stringify(user)); },
            clearCurrentUser() { localStorage.removeItem('tm_current_user'); }
        };

        // ===========================================
        // STATE
        // ===========================================
        let currentUser = DB.getCurrentUser();
        let currentCourse = null;
        let currentLesson = null;
        let selectedPaymentMethod = null;

        // ===========================================
        // SECURITY
        // ===========================================
        document.addEventListener('contextmenu', e => e.preventDefault());
        document.addEventListener('keydown', function(e) {
            if (e.key === 'F12' || (e.ctrlKey && e.shiftKey && ['I','J','C'].includes(e.key)) || (e.ctrlKey && e.key === 'u') || e.key === 'PrintScreen') {
                e.preventDefault();
                showToast('Ta akcja jest zablokowana');
                return false;
            }
        });

        document.addEventListener('visibilitychange', function() {
            const content = document.querySelector('.protected-content');
            if (content) {
                content.classList.toggle('blur-protection', document.hidden);
            }
        });

        let watermarkInterval;
        function startWatermark() {
            const watermark = document.getElementById('videoWatermark');
            if (!watermark || !currentUser) return;
            watermark.textContent = `ID: ${currentUser.id} | ${currentUser.email}`;
            const positions = ['top: 10%; left: 10%;', 'top: 10%; right: 10%;', 'bottom: 10%; left: 10%;', 'bottom: 10%; right: 10%;', 'top: 50%; left: 50%; transform: translate(-50%, -50%);'];
            let posIndex = 0;
            clearInterval(watermarkInterval);
            watermarkInterval = setInterval(() => {
                posIndex = (posIndex + 1) % positions.length;
                watermark.style.cssText = positions[posIndex];
            }, 5000);
        }

        // ===========================================
        // UI FUNCTIONS
        // ===========================================
        function showPage(pageName) {
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
            const page = document.getElementById('page-' + pageName);
            if (page) page.classList.add('active');
            if (pageName === 'dashboard' && currentUser) updateDashboard();
            else if (pageName === 'admin' && (!currentUser || currentUser.role !== 'ADMIN')) {
                showPage('home');
                showToast('Brak dostepu do panelu administratora');
                return;
            } else if (pageName === 'admin') updateAdminPanel();
            window.scrollTo(0, 0);
        }

        function showModal(modalName) {
            const modal = document.getElementById('modal-' + modalName);
            if (modal) modal.classList.add('active');
        }

        function hideModal(modalName) {
            const modal = document.getElementById('modal-' + modalName);
            if (modal) modal.classList.remove('active');
        }

        function showToast(message) {
            const container = document.getElementById('toastContainer');
            const toast = document.createElement('div');
            toast.className = 'toast';
            toast.textContent = message;
            container.appendChild(toast);
            setTimeout(() => toast.remove(), 3000);
        }

        function toggleFaq(btn) {
            const item = btn.parentElement;
            document.querySelectorAll('.faq-item').forEach(i => { if (i !== item) i.classList.remove('open'); });
            item.classList.toggle('open');
        }

        function updateNavigation() {
            const navPublic = document.getElementById('navLinks');
            const navLoggedIn = document.getElementById('navLinksLoggedIn');
            const adminLink = document.getElementById('adminLink');
            const userEmail = document.getElementById('userEmail');
            if (currentUser) {
                navPublic.style.display = 'none';
                navLoggedIn.style.display = 'flex';
                userEmail.textContent = currentUser.email;
                adminLink.style.display = currentUser.role === 'ADMIN' ? 'inline' : 'none';
            } else {
                navPublic.style.display = 'flex';
                navLoggedIn.style.display = 'none';
            }
        }

        // ===========================================
        // AUTH FUNCTIONS
        // ===========================================
        function handleLogin(e) {
            e.preventDefault();
            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;
            const errorEl = document.getElementById('loginError');
            const users = DB.getUsers();
            const user = users.find(u => u.email === email && u.password === password);
            if (user) {
                currentUser = user;
                DB.setCurrentUser(user);
                hideModal('login');
                updateNavigation();
                showToast('Zalogowano pomyslnie!');
                showPage('dashboard');
            } else {
                errorEl.textContent = 'Nieprawidlowy email lub haslo';
            }
        }

        function handleRegister(e) {
            e.preventDefault();
            const name = document.getElementById('registerName').value;
            const email = document.getElementById('registerEmail').value;
            const password = document.getElementById('registerPassword').value;
            const passwordConfirm = document.getElementById('registerPasswordConfirm').value;
            const errorEl = document.getElementById('registerError');
            if (password !== passwordConfirm) { errorEl.textContent = 'Hasla nie sa identyczne'; return; }
            const users = DB.getUsers();
            if (users.find(u => u.email === email)) { errorEl.textContent = 'Ten email jest juz zarejestrowany'; return; }
            const newUser = { id: 'user-' + Date.now(), email, password, name, role: 'USER', createdAt: new Date().toISOString().split('T')[0] };
            users.push(newUser);
            DB.saveUsers(users);
            currentUser = newUser;
            DB.setCurrentUser(newUser);
            hideModal('register');
            updateNavigation();
            showToast('Konto utworzone pomyslnie!');
            showPage('dashboard');
        }

        function logout() {
            currentUser = null;
            DB.clearCurrentUser();
            updateNavigation();
            showPage('home');
            showToast('Wylogowano');
        }

        // ===========================================
        // COURSE FUNCTIONS
        // ===========================================
        function showCourseDetails(courseId) {
            currentCourse = DB.courses[courseId];
            if (!currentCourse) return;
            document.getElementById('courseTitle').textContent = currentCourse.name;
            document.getElementById('paymentCourseName').textContent = currentCourse.name;
            document.getElementById('paymentCourseDesc').textContent = currentCourse.description;
            document.getElementById('paymentCoursePrice').textContent = currentCourse.price + ' PLN';

            const purchases = DB.getPurchases();
            const hasPurchased = currentUser && purchases.find(p => p.userId === currentUser.id && p.courseId === courseId);
            const videoLocked = document.getElementById('videoLocked');
            const videoPlayer = document.getElementById('videoPlayer');

            if (hasPurchased) {
                videoLocked.style.display = 'none';
                videoPlayer.style.display = 'block';
                startWatermark();
            } else {
                videoLocked.style.display = 'flex';
                videoPlayer.style.display = 'none';
            }

            const lessonList = document.getElementById('lessonList');
            const progress = DB.getProgress();
            lessonList.innerHTML = currentCourse.lessons.map((lesson, index) => {
                const isCompleted = progress[currentUser?.id]?.[lesson.id]?.completed;
                const isLocked = !hasPurchased && index > 0;
                return `
                    <div class="lesson-item ${isCompleted ? 'completed' : ''} ${isLocked ? 'locked' : ''}"
                         onclick="${isLocked ? 'showToast(\"Kup kurs aby odblokowac\")' : `selectLesson('${lesson.id}')`}">
                        <div class="lesson-number">${isCompleted ? '‚úì' : index + 1}</div>
                        <div class="lesson-info">
                            <div class="lesson-title">${lesson.title}</div>
                            <div class="lesson-duration">${lesson.duration} ${isLocked ? 'üîí' : ''}</div>
                        </div>
                    </div>
                `;
            }).join('');
            showPage('course');
        }

        function selectLesson(lessonId) {
            const lesson = currentCourse.lessons.find(l => l.id === lessonId);
            if (!lesson) return;
            currentLesson = lesson;
            document.getElementById('currentLessonTitle').textContent = lesson.title;
            document.getElementById('currentLessonDescription').textContent = lesson.description;
            document.querySelectorAll('.lesson-item').forEach(el => el.classList.remove('active'));
            event.currentTarget.classList.add('active');
            showToast('Ladowanie lekcji: ' + lesson.title);
            setTimeout(() => {
                if (currentUser && currentLesson) {
                    const progress = DB.getProgress();
                    if (!progress[currentUser.id]) progress[currentUser.id] = {};
                    progress[currentUser.id][currentLesson.id] = { completed: true, completedAt: new Date().toISOString() };
                    DB.saveProgress(progress);
                    event.currentTarget.classList.add('completed');
                    event.currentTarget.querySelector('.lesson-number').textContent = '‚úì';
                }
            }, 3000);
        }

        // ===========================================
        // PAYMENT FUNCTIONS
        // ===========================================
        function selectPayment(method) {
            selectedPaymentMethod = method;
            document.querySelectorAll('.payment-method').forEach(el => el.classList.remove('selected'));
            document.querySelector(`.payment-method input[value="${method}"]`).parentElement.classList.add('selected');
            document.getElementById('blikInput').style.display = method === 'blik' ? 'block' : 'none';
            document.getElementById('cardInput').style.display = method === 'card' ? 'block' : 'none';
        }

        function processPayment() {
            if (!selectedPaymentMethod) { showToast('Wybierz metode platnosci'); return; }
            if (!currentUser) { hideModal('payment'); showModal('login'); showToast('Zaloguj sie aby kontynuowac'); return; }
            if (selectedPaymentMethod === 'blik') {
                const blikCode = document.getElementById('blikCode').value;
                if (!/^\d{6}$/.test(blikCode)) { showToast('Wprowadz poprawny 6-cyfrowy kod BLIK'); return; }
            }
            if (selectedPaymentMethod === 'card') {
                const cardNumber = document.getElementById('cardNumber').value;
                const cardExpiry = document.getElementById('cardExpiry').value;
                const cardCvv = document.getElementById('cardCvv').value;
                if (!cardNumber || !cardExpiry || !cardCvv) { showToast('Wypelnij wszystkie dane karty'); return; }
            }
            showToast('Przetwarzanie platnosci...');
            setTimeout(() => {
                const purchases = DB.getPurchases();
                purchases.push({
                    id: 'purchase-' + Date.now(),
                    userId: currentUser.id,
                    courseId: currentCourse.id,
                    courseName: currentCourse.name,
                    method: selectedPaymentMethod.toUpperCase(),
                    amount: currentCourse.price,
                    status: 'completed',
                    createdAt: new Date().toISOString()
                });
                DB.savePurchases(purchases);
                hideModal('payment');
                showModal('payment-success');
                selectedPaymentMethod = null;
                document.querySelectorAll('.payment-method').forEach(el => el.classList.remove('selected'));
                document.getElementById('blikCode').value = '';
                document.getElementById('cardNumber').value = '';
                document.getElementById('cardExpiry').value = '';
                document.getElementById('cardCvv').value = '';
            }, 2000);
        }

        // ===========================================
        // DASHBOARD FUNCTIONS
        // ===========================================
        function updateDashboard() {
            if (!currentUser) return;
            document.getElementById('dashboardUserName').textContent = currentUser.name || currentUser.email;
            const purchases = DB.getPurchases().filter(p => p.userId === currentUser.id);
            const progress = DB.getProgress()[currentUser.id] || {};
            document.getElementById('purchasedCoursesCount').textContent = purchases.length;
            let completedLessons = 0, totalLessons = 0;
            purchases.forEach(purchase => {
                const course = DB.courses[purchase.courseId];
                if (course) {
                    totalLessons += course.lessons.length;
                    course.lessons.forEach(lesson => { if (progress[lesson.id]?.completed) completedLessons++; });
                }
            });
            document.getElementById('completedLessonsCount').textContent = completedLessons;
            document.getElementById('progressPercent').textContent = totalLessons > 0 ? Math.round((completedLessons / totalLessons) * 100) + '%' : '0%';

            const coursesContainer = document.getElementById('userCourses');
            if (purchases.length > 0) {
                coursesContainer.innerHTML = purchases.map(purchase => {
                    const course = DB.courses[purchase.courseId];
                    if (!course) return '';
                    const courseProgress = course.lessons.filter(l => progress[l.id]?.completed).length;
                    const progressPercent = Math.round((courseProgress / course.lessons.length) * 100);
                    return `
                        <div class="course-card ${course.level === 'ADVANCED' ? 'premium' : ''}">
                            <div class="course-image">${course.level === 'ADVANCED' ? 'üöÄ' : 'üìä'}</div>
                            <div class="course-content">
                                <span class="course-badge ${course.level === 'ADVANCED' ? 'badge-advanced' : 'badge-beginner'}">
                                    ${course.level === 'ADVANCED' ? 'Zaawansowany' : 'Podstawowy'}
                                </span>
                                <h3 class="course-title">${course.name}</h3>
                                <div class="course-meta">
                                    <span>Postep: ${progressPercent}%</span>
                                    <span>${courseProgress}/${course.lessons.length} lekcji</span>
                                </div>
                                <div style="background: var(--card-border); border-radius: 10px; height: 8px; margin: 1rem 0;">
                                    <div style="background: var(--accent-green); border-radius: 10px; height: 100%; width: ${progressPercent}%;"></div>
                                </div>
                                <button class="btn btn-primary" onclick="showCourseDetails('${course.id}')">Kontynuuj</button>
                            </div>
                        </div>
                    `;
                }).join('');
            } else {
                coursesContainer.innerHTML = `<div class="alert alert-info">Nie masz jeszcze zadnych kursow. <a href="#" onclick="showPage('home')">Przegladaj kursy</a></div>`;
            }

            const paymentHistoryBody = document.getElementById('paymentHistoryBody');
            if (purchases.length > 0) {
                paymentHistoryBody.innerHTML = purchases.map(p => `
                    <tr>
                        <td>${new Date(p.createdAt).toLocaleDateString('pl-PL')}</td>
                        <td>${p.courseName}</td>
                        <td>${p.method}</td>
                        <td>${p.amount} PLN</td>
                        <td><span class="status-badge status-active">Zakonczona</span></td>
                    </tr>
                `).join('');
            } else {
                paymentHistoryBody.innerHTML = `<tr><td colspan="5" style="text-align: center; color: var(--text-muted);">Brak historii platnosci</td></tr>`;
            }
        }

        // ===========================================
        // ADMIN FUNCTIONS
        // ===========================================
        function switchAdminTab(tab) {
            document.querySelectorAll('.admin-tab').forEach(t => t.classList.remove('active'));
            document.querySelector(`.admin-tab[onclick="switchAdminTab('${tab}')"]`).classList.add('active');
            document.querySelectorAll('.admin-panel-content').forEach(c => c.style.display = 'none');
            document.getElementById('admin-' + tab).style.display = 'block';
        }

        function updateAdminPanel() {
            const users = DB.getUsers();
            const purchases = DB.getPurchases();
            document.getElementById('adminUsersTable').innerHTML = users.map(user => {
                const userPurchases = purchases.filter(p => p.userId === user.id);
                return `
                    <tr>
                        <td>${user.email}</td>
                        <td><span class="status-badge ${user.role === 'ADMIN' ? 'status-pending' : 'status-active'}">${user.role}</span></td>
                        <td>${user.createdAt}</td>
                        <td>${userPurchases.length}</td>
                        <td><span class="status-badge status-active">Aktywny</span></td>
                    </tr>
                `;
            }).join('');

            document.getElementById('adminPaymentsTable').innerHTML = DB.samplePayments.map(p => `
                <tr>
                    <td>${p.date}</td>
                    <td>${p.user}</td>
                    <td>${p.course}</td>
                    <td>${p.method}</td>
                    <td>${p.amount} PLN</td>
                    <td><span class="status-badge ${p.status === 'completed' ? 'status-active' : 'status-pending'}">${p.status === 'completed' ? 'Zakonczona' : 'Oczekujaca'}</span></td>
                </tr>
            `).join('');
        }

        // ===========================================
        // INITIALIZATION
        // ===========================================
        document.addEventListener('DOMContentLoaded', function() {
            updateNavigation();
            document.querySelectorAll('.modal-overlay').forEach(overlay => {
                overlay.addEventListener('click', function(e) {
                    if (e.target === overlay) overlay.classList.remove('active');
                });
            });
        });
    </script>
</body>
</html>
